<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cart - DreamSpace Pigment Paints</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-r from-indigo-100 via-purple-100 to-pink-100 min-h-screen">

  <header class="bg-white shadow p-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold text-indigo-600">DreamSpace Paints</h1>
    <nav>
      <a href="index.html" class="text-sm text-gray-700 hover:text-indigo-600 mx-2">Home</a>
      <a href="index.html#product" class="text-sm text-gray-700 hover:text-indigo-600 mx-2">Products</a>
      <a href="#" class="text-sm text-indigo-800 font-semibold mx-2">Cart</a>
    </nav>
  </header>

  <main class="max-w-5xl mx-auto p-4">
    <h2 class="text-3xl font-bold mb-6 text-gray-800">Your Cart</h2>

    <!-- Cart Items -->
    <div id="cart-container" class="grid gap-6"></div>

    <!-- Summary Section -->
    <div class="mt-10 bg-white rounded-xl shadow p-6">
      <h3 class="text-xl font-bold text-gray-700 mb-4">Order Summary</h3>
      <div class="flex justify-between text-sm text-gray-600 mb-2">
        <p>Subtotal</p>
        <p id="subtotal">₹0</p>
      </div>
      <div class="flex justify-between text-sm text-gray-600 mb-2">
        <p>Shipping</p>
        <p>₹50</p>
      </div>
      <div class="flex justify-between text-lg font-semibold text-gray-800 mt-4 border-t pt-2">
        <p>Total</p>
        <p id="total">₹50</p>
      </div>
      <button class="mt-6 w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700 transition duration-200">
        Proceed to Checkout
      </button>
    </div>

    <!-- Saved for Later -->
    <div id="saved-container" class="mt-12">
      <h3 class="text-2xl font-bold text-gray-700 mb-4">Saved for Later</h3>
      <div id="saved-items" class="grid gap-6"></div>
    </div>
  </main>

  <script>
    const defaultItems = [
      {
        name: "Neon Spray Paint",
        details: "400ml can • Neon Yellow",
        price: 299,
        qty: 1,
        image: "https://via.placeholder.com/80"
      },
      {
        name: "Premium Acrylic Set",
        details: "12 Colors • 20ml each",
        price: 499,
        qty: 2,
        image: "https://via.placeholder.com/80"
      },
      {
        name: "Crystal Resin Kit",
        details: "1L resin + 1L hardener",
        price: 799,
        qty: 1,
        image: "https://via.placeholder.com/80"
      }
    ];

    let cartItems = JSON.parse(localStorage.getItem("cart")) || defaultItems;
    let savedItems = JSON.parse(localStorage.getItem("saved")) || [];

    const cartContainer = document.getElementById("cart-container");
    const savedContainer = document.getElementById("saved-items");
    const subtotalElem = document.getElementById("subtotal");
    const totalElem = document.getElementById("total");

    function renderCart() {
      cartContainer.innerHTML = "";
      cartItems.forEach((item, index) => {
        const itemTotal = item.qty * item.price;
        const itemDiv = document.createElement("div");
        itemDiv.className = "flex flex-col md:flex-row bg-white rounded-xl shadow p-4 items-center justify-between";

        itemDiv.innerHTML = `
          <div class="flex items-center space-x-4">
            <img src="${item.image}" alt="${item.name}" class="w-20 h-20 object-cover rounded" />
            <div>
              <h3 class="font-semibold text-lg text-gray-700">${item.name}</h3>
              <p class="text-sm text-gray-500">${item.details}</p>
            </div>
          </div>
          <div class="flex flex-col md:flex-row items-center mt-4 md:mt-0 space-y-2 md:space-y-0 md:space-x-4">
            <div class="flex items-center border rounded">
              <button class="px-3 py-1 text-lg" onclick="updateQty(${index}, -1)">−</button>
              <span class="px-4">${item.qty}</span>
              <button class="px-3 py-1 text-lg" onclick="updateQty(${index}, 1)">+</button>
            </div>
            <p class="text-lg font-semibold text-indigo-600">₹${itemTotal}</p>
            <button onclick="removeItem(${index})" class="text-red-600 text-sm hover:underline">Remove</button>
            <button onclick="saveForLater(${index})" class="text-blue-600 text-sm hover:underline">Save for later</button>
          </div>
        `;
        cartContainer.appendChild(itemDiv);
      });

      updateSummary();
      saveState();
    }

    function renderSaved() {
      savedContainer.innerHTML = "";
      savedItems.forEach((item, index) => {
        const itemDiv = document.createElement("div");
        itemDiv.className = "flex flex-col md:flex-row bg-white rounded-xl shadow p-4 items-center justify-between";

        itemDiv.innerHTML = `
          <div class="flex items-center space-x-4">
            <img src="${item.image}" alt="${item.name}" class="w-20 h-20 object-cover rounded" />
            <div>
              <h3 class="font-semibold text-lg text-gray-700">${item.name}</h3>
              <p class="text-sm text-gray-500">${item.details}</p>
            </div>
          </div>
          <div class="flex flex-col md:flex-row items-center mt-4 md:mt-0 space-y-2 md:space-y-0 md:space-x-4">
            <button onclick="moveToCart(${index})" class="text-green-600 text-sm hover:underline">Move to Cart</button>
            <button onclick="removeSaved(${index})" class="text-red-600 text-sm hover:underline">Remove</button>
          </div>
        `;
        savedContainer.appendChild(itemDiv);
      });

      saveState();
    }

    function updateQty(index, change) {
      cartItems[index].qty = Math.max(1, cartItems[index].qty + change);
      renderCart();
    }

    function removeItem(index) {
      cartItems.splice(index, 1);
      renderCart();
    }

    function saveForLater(index) {
      savedItems.push(cartItems[index]);
      cartItems.splice(index, 1);
      renderCart();
      renderSaved();
    }

    function moveToCart(index) {
      cartItems.push({ ...savedItems[index], qty: 1 });
      savedItems.splice(index, 1);
      renderCart();
      renderSaved();
    }

    function removeSaved(index) {
      savedItems.splice(index, 1);
      renderSaved();
    }

    function updateSummary() {
      let subtotal = cartItems.reduce((sum, item) => sum + (item.qty * item.price), 0);
      subtotalElem.innerText = `₹${subtotal}`;
      totalElem.innerText = `₹${subtotal + 50}`;
    }

    function saveState() {
      localStorage.setItem("cart", JSON.stringify(cartItems));
      localStorage.setItem("saved", JSON.stringify(savedItems));
    }

    // Initial render
    renderCart();
    renderSaved();
  </script>

</body>
</html>
